jQuery(document).ready(function(a){function g(){function b(a){(new google.maps.Geocoder).geocode({latLng:new google.maps.LatLng(a.coords.latitude,a.coords.longitude)},function(a,b){b==google.maps.GeocoderStatus.OK?f(a):alert("Geocoder failed due to: "+b)})}function e(b){switch(b.code){case b.PERMISSION_DENIED:a("#gmw-cl-message").html('<div id="gmw-locator-error-message">User denied the request for Geolocation</div>');break;case b.POSITION_UNAVAILABLE:a("#gmw-cl-message").html('<div id="gmw-locator-error-message">Location information is unavailable</div>');
break;case 3:a("#gmw-cl-message").html('<div id="gmw-locator-error-message">The request to get user location timed out</div>');break;case b.UNKNOWN_ERROR:a("#gmw-cl-message").html('<div id="gmw-locator-error-message">An unknown error occurred</div>')}setTimeout(function(){a("#gmw-cl-message").html("");a("#gmw-cl-spinner").fadeToggle();a("#gmw-cl-address").prop("disabled",!1)},1500)}navigator.geolocation?(navigator.geolocation.getCurrentPosition(b,e,{timeout:1E4}),a("#gmw-cl-message").html('<div id="gmw-locator-success-message">Getting your current location...</div>')):
(a("#gmw-cl-message").html('<div id="gmw-locator-success-message">we are sorry! Geolocation is not supported by this browser and we cannot locate you.</div>'),setTimeout(function(){a("#gmw-cl-message").html("");a("#gmw-cl-spinner").fadeToggle();a("#gmw-cl-address").prop("disabled",!1)},2500))}function f(b){gmwDeleteCookie("gmw_city");gmwDeleteCookie("gmw_state");gmwDeleteCookie("gmw_zipcode");gmwDeleteCookie("gmw_country");gmwDeleteCookie("gmw_lat");gmwDeleteCookie("gmw_lng");var e=!1,d=!1,c=b[0].address_components;
gotLat=b[0].geometry.location.lat();gotLng=b[0].geometry.location.lng();a("#gmw-cl-lat").val(gotLat);a("#gmw-cl-lng").val(gotLng);a("#gmw-cl-org-address").val(retAddress);a("#gmw-cl-formatted-address").val(b[0].formatted_address);gmwSetCookie("gmw_address",b[0].formatted_address,7);gmwSetCookie("gmw_formatted_address",b[0].formatted_address,7);gmwSetCookie("gmw_lat",gotLat,7);gmwSetCookie("gmw_lng",gotLng,7);for(x in c)"street_number"==c[x].types&&(e=c[x].long_name),"route"==c[x].types&&(d=c[x].long_name,
0!=e&&(d=e+" "+d),gmwSetCookie("gmw_street",d,7),a("#gmw-cl-street").val(d)),"administrative_area_level_1,political"==c[x].types&&(gmwSetCookie("gmw_state",c[x].short_name,7),a("#gmw-cl-state").val(c[x].short_name),a("#gmw-cl-state-long").val(c[x].long_name)),"locality,political"==c[x].types&&(gmwSetCookie("gmw_city",c[x].long_name,7),a("#gmw-cl-city").val(c[x].long_name)),"postal_code"==c[x].types&&(gmwSetCookie("gmw_zipcode",c[x].long_name,7),a("#gmw-cl-zipcode").val(c[x].long_name)),"country,political"==
c[x].types&&(gmwSetCookie("gmw_country",c[x].short_name,7),a("#gmw-cl-country").val(c[x].short_name),a("#gmw-cl-country-long").val(c[x].long_name));a("#gmw-cl-message").addClass("success").html("We found you at "+b[0].formatted_address);a("#gmw-cl-map").fadeToggle(function(){var b=new google.maps.LatLng(gotLat,gotLng);clMap=new google.maps.Map(document.getElementById("gmw-cl-map"),{zoom:12,center:b});marker=new google.maps.Marker({position:b,map:clMap});setTimeout(function(){a("#gmw-cl-hidden-form").submit()},
3500)})}a(".gmw-cl-form-trigger, #gmw-cl-close-btn").click(function(b){b.preventDefault();a(".gmw-cl-form-wrapper").fadeToggle()});a("#gmw-cl-address").bind("keypress",function(b){13==b.keyCode&&a("#gmw-cl-submit-address").click()});a("#gmw-cl-trigger").click(function(b){b.preventDefault();a("#gmw-cl-address").prop("disabled",!0);a("#gmw-cl-respond-wrapper").fadeToggle();g()});a("#gmw-cl-submit-address").click(function(b){b.preventDefault();a("#gmw-cl-address").prop("disabled",!0);a("#gmw-cl-respond-wrapper").slideToggle();
retAddress=a(this).closest("form").find("#gmw-cl-address").val();geocoder=new google.maps.Geocoder;countryCode="us";void 0!=gmwSettings.general_settings.country_code&&(countryCode=gmwSettings.general_settings.country_code);geocoder.geocode({address:retAddress,region:countryCode},function(b,d){d==google.maps.GeocoderStatus.OK?geocoder.geocode({latLng:new google.maps.LatLng(b[0].geometry.location.lat(),b[0].geometry.location.lng())},function(b,d){d==google.maps.GeocoderStatus.OK?f(b):a("#gmw-cl-message").html("Geocoder failed due to: "+
d)}):(a("#gmw-cl-message").addClass("error").html("Geocode was not successful for the following reason: "+d),setTimeout(function(){a("#gmw-cl-respond-wrapper").slideToggle();a("#gmw-cl-message").removeClass("error").html("");a("#gmw-cl-address").prop("disabled",!1)},3E3))})})});