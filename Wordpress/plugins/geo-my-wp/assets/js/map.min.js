function gmwMapInit(a){if(jQuery("#"+a.mapElement).length){var d=a.mapId,b=!1;a.mapOptions.zoom="auto"==a.zoomLevel?13:parseInt(a.zoomLevel);a.mapOptions.center=new google.maps.LatLng(a.userPosition.lat,a.userPosition.lng);a.mapOptions.mapTypeId=google.maps.MapTypeId[a.mapOptions.mapTypeId];a.bounds=new google.maps.LatLngBounds;"undefined"!=typeof gmwMapOptions[d]&&jQuery.extend(a.mapOptions,gmwMapOptions[d]);a.map=new google.maps.Map(document.getElementById(a.mapElement),a.mapOptions);"function"===
typeof MarkerClusterer&&"markers_clusterer"==a.markersDisplay&&(psMc=new MarkerClusterer(a.map,a.markers),b=!0);for(i=0;i<a.locations.length;i++)if(void 0!=a.locations[i].lat&&(void 0!=a.locations[i]["long"]||void 0!=a.locations[i].lng)){void 0==a.locations[i]["long"]&&(a.locations[i]["long"]=a.locations[i].lng);var c=new google.maps.LatLng(a.locations[i].lat,a.locations[i]["long"]);if(0==b&&a.bounds.contains(c)){var e=360/a.locations.length,d=c,c=d.lat()+-5E-4*Math.cos(+e*i/180*Math.PI),e=d.lng()+
-5E-4*Math.sin(+e*i/180*Math.PI),c=new google.maps.LatLng(c,e);(new google.maps.Polyline({path:[d,c],strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2})).setMap(a.map)}a.bounds.extend(c);a.markers[i]=new google.maps.Marker({position:c,icon:a.locations[i].mapIcon,map:a.map,id:i});1==b&&"markers_clusterer"==a.markersDisplay?psMc.addMarker(a.markers[i]):a.markers[i].setMap(a.map);0!=a.locations[i].info_window_content&&void 0!=a.locations[i].info_window_content&&google.maps.event.addListener(a.markers[i],
"click",function(){null!=a.infoWindow&&(a.infoWindow.close(),a.infoWindow=null);a.infoWindow=new google.maps.InfoWindow({content:a.locations[this.id].info_window_content});a.infoWindow.open(a.map,this)})}if(0!=a.userPosition.lat&&0!=a.userPosition.lng&&0!=a.userPosition.mapIcon&&(a.userPosition.location=new google.maps.LatLng(a.userPosition.lat,a.userPosition.lng),a.bounds.extend(a.userPosition.location),a.userPosition.marker=new google.maps.Marker({position:a.userPosition.location,map:a.map,icon:a.userPosition.mapIcon}),
0!=a.userPosition.iwContent&&null!=a.userPosition.iwContent)){var f=new google.maps.InfoWindow({content:a.userPosition.iwContent});1==a.userPosition.iwOpen&&f.open(a.map,a.userPosition.marker);google.maps.event.addListener(a.userPosition.marker,"click",function(){f.open(a.map,a.userPosition.marker)})}google.maps.event.addListenerOnce(a.map,"idle",function(){0!=a.zoomPosition&&"auto"!=a.zoomLevel?(a.zoomPosition.position=new google.maps.LatLng(a.zoomPosition.lat,a.zoomPosition.lng),a.map.setZoom(parseInt(a.zoomLevel)),
a.map.panTo(a.zoomPosition.position)):1==a.locations.length&&0==a.userPosition.location?("auto"==a.zoomLevel?a.map.setZoom(13):a.map.setZoom(parseInt(a.zoomLevel)),a.map.panTo(a.markers[0].getPosition())):"auto"!=a.zoomLevel&&0!=a.userPosition.location?(a.map.setZoom(parseInt(a.zoomLevel)),a.map.panTo(a.userPosition.location)):"auto"!=a.zoomLevel&&0!=a.userPosition.location||a.map.fitBounds(a.bounds);0!=a.mapLoaderElement&&jQuery(a.mapLoaderElement).fadeOut(1E3);0!=a.resizeMapElement&&(a.resizeMapControl=
document.getElementById(a.resizeMapElement),a.resizeMapControl.style.position="absolute",a.map.controls[google.maps.ControlPosition.TOP_RIGHT].push(a.resizeMapControl),a.resizeMapControl.style.display="block",jQuery("#"+a.resizeMapElement).click(function(){var b=a.map.getCenter();jQuery(this).closest(".gmw-map-wrapper").toggleClass("gmw-expanded-map");jQuery(this).toggleClass("fa-expand").toggleClass("fa-compress");setTimeout(function(){google.maps.event.trigger(a.map,"resize");a.map.setCenter(b)},
100)}))})}}jQuery(document).ready(function(a){if("undefined"==typeof gmwMapObjects)return!1;a.each(gmwMapObjects,function(a,b){1==b.triggerMap&&(0!=b.hiddenElement&&jQuery(b.hiddenElement).is(":hidden")?jQuery(b.hiddenElement).slideToggle("fast",function(){gmwMapInit(b)}):gmwMapInit(b))})});